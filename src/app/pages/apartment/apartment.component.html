<!-- Modern Apartment Rental Page -->
<div class="modern-apartment-page" (keydown)="onKeyDown($event)">
  
  <!-- Hero Section with Overlay -->
  <section class="hero-section">
    <div class="hero-background"></div>
    <div class="hero-content">
      <h1 class="hero-title">Prelada Residence T1 Apartment</h1>
      <div class="hero-location">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
          <circle cx="12" cy="10" r="3"></circle>
        </svg>
        <span>Travessa da Prelada 626, Porto, Portugal</span>
      </div>
    </div>
  </section>

<!--    Quick Info Cards -->
<!--  <section class="info-cards-section">
    <div class="container">
      <div class="info-cards">
        <div class="info-card">
          <div class="card-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
              <polyline points="9,22 9,12 15,12 15,22"></polyline>
            </svg>
          </div>
          <h3>Spacious Living</h3>
          <p>76m² + private terrace for outdoor relaxation</p>
        </div>
        <div class="info-card">
          <div class="card-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
              <line x1="8" y1="21" x2="16" y2="21"></line>
              <line x1="12" y1="17" x2="12" y2="21"></line>
            </svg>
          </div>
          <h3>Modern Comfort</h3>
          <p>Elevator access and private garage included</p>
        </div>
        <div class="info-card">
          <div class="card-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path>
            </svg>
          </div>
          <h3>Prime Location</h3>
          <p>Perfect location in Porto with great accessibility</p>
        </div>
      </div>
    </div>
  </section> -->

  <!-- Image Gallery Section -->
  <section class="modern-gallery" *ngIf="images.length > 0">
    <div class="container">
      <div class="gallery-header">
        <h2>Apartment Gallery</h2>
        <p>Explore every corner of your future home</p>
        <div class="gallery-counter">{{ images.length }} photos</div>
      </div>
      <div class="gallery-grid">
        <div 
          *ngFor="let image of images; let i = index" 
          class="gallery-item"
          (click)="openGallery(image)"
          [style.animation-delay.ms]="i * 100"
        >
          <img 
            [src]="image.src" 
            [alt]="image.alt"
            loading="lazy"
            onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'300\' height=\'200\' viewBox=\'0 0 300 200\'%3E%3Crect width=\'300\' height=\'200\' fill=\'%23f0f0f0\'/%3E%3Ctext x=\'150\' y=\'100\' text-anchor=\'middle\' dominant-baseline=\'middle\' fill=\'%23999\' font-family=\'Arial, sans-serif\' font-size=\'14\'%3EImage not available%3C/text%3E%3C/svg%3E'"
          >
          <div class="gallery-overlay">
            <div class="overlay-content">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"></circle>
                <path d="M21 21l-4.35-4.35"></path>
              </svg>
              <span>View Image</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Features & Details Section -->
  <section class="features-section">
    <div class="container">
      <div class="features-grid">
        <div class="features-content">
          <div class="section-badge">Property Details</div>
          <h2>Everything You Need</h2>
          <p class="section-description">This beautifully appointed T1 apartment offers modern living with all the essentials for comfortable city life.</p>
          
          <div class="feature-items">
            <div class="feature-item">
              <div class="feature-icon">
                <span class="material-symbols-outlined">restaurant</span>
              </div>
              <div>
                <h4>Modern Kitchen</h4>
                <p>Fully equipped with modern appliances</p>
              </div>
            </div>
            <div class="feature-item">
              <div class="feature-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M2 4v16"></path>
                  <path d="M2 8h18a2 2 0 0 1 2 2v10"></path>
                  <path d="M2 17h20"></path>
                  <path d="M6 8v9"></path>
                </svg>
              </div>
              <div>
                <h4>Comfortable Bedroom</h4>
                <p>Spacious bedroom with built-in storage</p>
              </div>
            </div>
            <div class="feature-item">
              <div class="feature-icon">
                <span class="material-symbols-outlined">deck</span>
              </div>
              <div>
                <h4>Private Terrace</h4>
                <p>Your own outdoor space for relaxation</p>
              </div>
            </div>
            <div class="feature-item">
              <div class="feature-icon">
                <span class="material-symbols-outlined">garage</span>
              </div>
              <div>
                <h4>Private Garage</h4>
                <p>Secure parking space included</p>
              </div>
            </div>
          </div>
        </div>

        <div class="contact-section">
          <div class="contact-card">
            <div class="contact-header">
              <div class="price-section">
                <div class="price">950€</div>
                <div class="price-period">per month</div>
              </div>
              <h3>Interested?</h3>
              <p>Contact us to schedule a viewing</p>
            </div>
            <div class="contact-info">
              <div class="contact-item">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                </svg>
                <span>938 097 868</span>
              </div>
              <div class="contact-item">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                  <path d="m16 11.37-2.08-2.09a1.5 1.5 0 0 0-2.11 0L9.73 11.37a1.5 1.5 0 0 0 0 2.11L11.82 15.56a1.5 1.5 0 0 0 2.11 0l2.07-2.08a1.5 1.5 0 0 0 0-2.11z"></path>
                  <circle cx="12" cy="12" r="3"></circle>
                </svg>
                <span>@hssduarte</span>
              </div>
              <div class="contact-buttons">
                <a href="tel:+351938097868" class="contact-btn">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                  </svg>
                  Call Now
                </a>
                <a href="https://instagram.com/hssduarte" target="_blank" class="contact-btn instagram-btn">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                    <path d="m16 11.37-2.08-2.09a1.5 1.5 0 0 0-2.11 0L9.73 11.37a1.5 1.5 0 0 0 0 2.11L11.82 15.56a1.5 1.5 0 0 0 2.11 0l2.07-2.08a1.5 1.5 0 0 0 0-2.11z"></path>
                    <circle cx="12" cy="12" r="3"></circle>
                  </svg>
                  Instagram
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Enhanced Lightbox Gallery -->
  <div class="modern-lightbox" *ngIf="showGallery && selectedImage" (click)="closeGallery()">
    <div class="lightbox-content" (click)="$event.stopPropagation()">
      <div class="lightbox-header">
        <div class="lightbox-title">{{ selectedImage.alt }}</div>
        <button class="lightbox-close" (click)="closeGallery()">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      
      <div class="lightbox-image-container">
        <button 
          class="lightbox-nav lightbox-prev" 
          (click)="previousImage()" 
          [disabled]="currentImageIndex === 0"
          *ngIf="images.length > 1"
        >
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="15,18 9,12 15,6"></polyline>
          </svg>
        </button>
        
        <img [src]="selectedImage.src" [alt]="selectedImage.alt" class="lightbox-image">
        
        <button 
          class="lightbox-nav lightbox-next" 
          (click)="nextImage()" 
          [disabled]="currentImageIndex === images.length - 1"
          *ngIf="images.length > 1"
        >
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="9,18 15,12 9,6"></polyline>
          </svg>
        </button>
      </div>
      
      <div class="lightbox-footer" *ngIf="images.length > 1">
        <div class="lightbox-counter">
          {{ currentImageIndex + 1 }} of {{ images.length }}
        </div>
      </div>
    </div>
  </div>
</div>